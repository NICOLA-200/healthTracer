<button
(click)="modal.openModal()"
class="px-4 py-2 shadow-md text-black rounded-lg hover:bg-neutral-200"

>
  Add workout
</button>

<div class="p-4">
  <div class="flex gap-4 mb-4">
    <input type="text" pInputText [(ngModel)]="searchQuery" placeholder="Search" class="p-inputtext p-component" />
    <p-dropdown [options]="['All', 'Running', 'Cycling', 'Swimming', 'Yoga']" [(ngModel)]="workoutFilter"></p-dropdown>
  </div> 

  <p-table [value]="userData" [paginator]="true" [rows]="10" class="shadow-md rounded-lg overflow-hidden">
    <ng-template pTemplate="header">
      <tr class="bg-gray-100 text-gray-700 font-semibold">
        <th class="p-3 border border-gray-200">Name</th>
        <th class="p-3 border border-gray-200">Workouts</th>
        <th class="p-3 border border-gray-200">Number of Workouts</th>
        <th class="p-3 border border-gray-200">Total Workout Minutes</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr class="border-b border-gray-200 hover:bg-gray-50">
        <td class="p-3 border border-gray-200">{{ user.name }}</td>
        <td class="p-3 border border-gray-200">{{ getWorkoutTypes(user.workouts) }}</td>
        <td class="p-3 border border-gray-200">{{ getWorkoutCount(user.workouts) }}</td>
        <td class="p-3 border border-gray-200">{{ getTotalMinutes(user.workouts) }}</td>
      </tr>
    </ng-template>

    <ng-template pTemplate="paginator" let-state>
      <div class="p-paginator flex justify-center items-center mt-4">
        <button type="button" (click)="state.onFirstPage()" [disabled]="state.isFirstPage"
                class="p-paginator-first p-ripple rounded-md px-3 py-2 mx-1 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 disabled:bg-gray-200 disabled:cursor-not-allowed">
          <i class="pi pi-angle-double-left"></i>
        </button>
        <button type="button" (click)="state.onPrevPage()" [disabled]="state.isFirstPage"
                class="p-paginator-prev p-ripple rounded-md px-3 py-2 mx-1 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 disabled:bg-gray-200 disabled:cursor-not-allowed">
          <i class="pi pi-angle-left"></i>
        </button>

        <span class="p-paginator-pages">
          <button *ngFor="let page of state.pages" type="button" (click)="state.onPage(page)"
                  [ngClass]="{'p-highlight': page === state.currentPage}"
                  class="p-paginator-page p-ripple rounded-md px-3 py-2 mx-1 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100" >
            {{ page }}
          </button>
        </span>

        <button type="button" (click)="state.onNextPage()" [disabled]="state.isLastPage"
                class="p-paginator-next p-ripple rounded-md px-3 py-2 mx-1 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 disabled:bg-gray-200 disabled:cursor-not-allowed">
          <i class="pi pi-angle-right"></i>
        </button>
        <button type="button" (click)="state.onLastPage()" [disabled]="state.isLastPage"
                class="p-paginator-last p-ripple rounded-md px-3 py-2 mx-1 bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 disabled:bg-gray-200 disabled:cursor-not-allowed">
          <i class="pi pi-angle-double-right"></i>
        </button>

        <p-dropdown [options]="[5, 10, 25, 50]" [(ngModel)]="state.rows" (onChange)="state.onRowsChange(state.rows)"
                    class="p-dropdown p-component rounded-md border border-gray-300 px-3 py-2 ml-2 focus:outline-none focus:ring-2 focus:ring-blue-500"></p-dropdown>
      </div>
    </ng-template>

  </p-table>
   
</div>


<app-modal #modal></app-modal>
